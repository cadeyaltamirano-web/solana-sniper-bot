RewriteEngine On

# ------------------------------
# 1. Убираем index.html везде
# ------------------------------
RewriteCond %{THE_REQUEST} \s/+(.*/)?index\.html[\s?] [NC]
RewriteRule ^ %1 [R=301,L]

# Разрешаем открывать index.html по умолчанию
DirectoryIndex index.html

# ------------------------------
# 2. Убираем .html из URL
#    Например:
#       /vipdetect.html → /vipdetect
#       /trading/vipdetect.html → /trading/vipdetect
# ------------------------------
RewriteCond %{THE_REQUEST} \s/+(.+)\.html[\s?] [NC]
RewriteRule ^ %1 [R=301,L]

# ------------------------------
# 3. Если пользователь зашел без .html
#    → подставляем соответствующий файл
# ------------------------------
RewriteCond %{REQUEST_FILENAME} !-d
RewriteCond %{REQUEST_FILENAME} !-f
RewriteRule ^(.+)$ $1.html [L]